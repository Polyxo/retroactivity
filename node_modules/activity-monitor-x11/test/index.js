var assert = require('assert');
var ActivityMonitor = require('../index');

describe('ActivityMonitor', function() {
  describe('#ActivityMonitor()', function () {
    it('should return a ActivityMonitor object', function () {
      var am = new ActivityMonitor();
      assert.equal(typeof am.getActiveWindow, 'function');
    });
  });
  
  var am = new ActivityMonitor();
  
  describe('#getActiveWindow()', function() {
    it('should return a window', function(done) {
      am.getActiveWindow().done(function(result)
      {
        assert.equal(typeof result, 'object');
        console.log(result);
        done();
      });
    });
  });
  
  describe('#Window', function()
  {
    am.getActiveWindow().then(function(window)
    {
      describe('#getProgramName()', function()
      {
        it('should return a name', function(done)
        {
          window.getProgramName().done(function(result)
          {
            console.log(result);
            done();
          });
        });
      });
      
      describe('#getLocalisedProgramName()', function()
      {
        it('should return a name', function(done)
        {
          window.getLocalisedProgramName().done(function(result)
          {
            console.log(result);
            done();
          });
        });
      });
      
      describe('#getIcon()', function()
      {
        it('should return an icon', function(done)
        {
          window.getIcon().done(function(result)
          {
            //console.log(result);
            done();
          });
        });
      });
      
      describe('#getKeyObject()', function()
      {
        it('should return a plain object', function(done)
        {
          window.getKeyObject().done(function(result)
          {
            console.log(result);
            done();
          });
        });
      });
    });
  });
});
