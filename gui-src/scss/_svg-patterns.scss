/// Replace `$search` with `$replace` in `$string`
/// @author Hugo Giraudel
/// @param {String} $string - Initial string
/// @param {String} $search - Substring to replace
/// @param {String} $replace ('') - New value
/// @return {String} - Updated string
@function str-replace($string, $search, $replace: '') {
  $index: str-index($string, $search);
  
  @if $index {
    @return str-slice($string, 1, $index - 1) + $replace + str-replace(str-slice($string, $index + str-length($search)), $search, $replace);
  }
  
  @return $string;
}

@function svg-url($width, $height, $content, $version:1.1, $viewBox:null)
{
  $url-content: str-replace($content, "#", "%23");
  @if($viewBox)
  {
    $viewBox: 'viewBox="#{$viewBox}"';
  }
  @return url('data:image/svg+xml;utf8,<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" width="#{$width}" height="#{$height}" #{$viewBox} version="#{$version}">#{$url-content}</svg>');
}

%pattern-0-fill,
.pattern_0_fill
{
  background-image:svg-url(13,13,'<defs><pattern patternUnits="userSpaceOnUse" width="2" height="1" patternTransform="translate(0,0) scale(1.6,1.6) matrix(1,1,-3,3,0,0)" style="fill:#888" id="pattern_0"><rect x="0" y="-0.5" width="1" height="2"/></pattern></defs><rect x="0" y="0" width="13" height="13" style="fill:url(#pattern_0)" />');
}

%pattern-1-fill,
.pattern_1_fill
{
  background-image:svg-url(30,30,'<defs><pattern patternUnits="userSpaceOnUse" width="10" height="10" patternTransform="translate(0,0) scale(3,3)" style="fill:#888" id="pattern_1"><circle cx="2.567" cy="0.810" r="0.45"/><circle cx="3.048" cy="2.33" r="0.45"/><circle cx="4.418" cy="2.415" r="0.45"/><circle cx="1.844" cy="3.029" r="0.45"/><circle cx="6.08" cy="1.363" r="0.45"/><circle cx="5.819" cy="4.413" r="0.45"/><circle cx="4.305" cy="4.048" r="0.45"/><circle cx="5.541" cy="3.045" r="0.45"/><circle cx="4.785" cy="5.527" r="0.45"/><circle cx="2.667" cy="5.184" r="0.45"/><circle cx="7.965" cy="1.448" r="0.45"/><circle cx="7.047" cy="5.049" r="0.45"/><circle cx="4.340" cy="0.895" r="0.45"/><circle cx="7.125" cy="0.340" r="0.45"/><circle cx="9.553" cy="1.049" r="0.45"/><circle cx="7.006" cy="2.689" r="0.45"/><circle cx="8.909" cy="2.689" r="0.45"/><circle cx="9.315" cy="4.407" r="0.45"/><circle cx="7.820" cy="3.870" r="0.45"/><circle cx="8.270" cy="5.948" r="0.45"/><circle cx="7.973" cy="7.428" r="0.45"/><circle cx="9.342" cy="8.072" r="0.45"/><circle cx="8.206" cy="9.315" r="0.45"/><circle cx="9.682" cy="9.475" r="0.45"/><circle cx="9.688" cy="6.186" r="0.45"/><circle cx="3.379" cy="6.296" r="0.45"/><circle cx="2.871" cy="8.204" r="0.45"/><circle cx="4.59" cy="8.719" r="0.45"/><circle cx="3.181" cy="9.671" r="0.45"/><circle cx="5.734" cy="7.315" r="0.45"/><circle cx="6.707" cy="6.513" r="0.45"/><circle cx="5.730" cy="9.670" r="0.45"/><circle cx="6.535" cy="8.373" r="0.45"/><circle cx="4.37" cy="7.154" r="0.45"/><circle cx="0.622" cy="7.25" r="0.45"/><circle cx="0.831" cy="5.679" r="0.45"/><circle cx="1.257" cy="8.519" r="0.45"/><circle cx="1.989" cy="6.877" r="0.45"/><circle cx="0.374" cy="3.181" r="0.45"/><circle cx="1.166" cy="1.664" r="0.45"/><circle cx="1.151" cy="0.093" r="0.45"/><circle cx="1.151" cy="10.093" r="0.45"/><circle cx="1.302" cy="4.451" r="0.45"/><circle cx="3.047" cy="3.763" r="0.45"/></pattern></defs><rect x="0" y="0" width="30" height="30" style="fill:url(#pattern_1)" />');
}
